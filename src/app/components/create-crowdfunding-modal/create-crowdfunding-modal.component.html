<app-loading *ngIf="isLoading">{{ isLoading }}</app-loading>

<div class="modal">
	<div class="modal-content">
		<div class="modal-header">
			<button type="button" #closebutton class="close" data-dismiss="modal" (click)="closeDialog()">&times;</button>
			<h4 class="modal-title">Campaign Form</h4>
		</div>
		<div class="modal-body">
			<form [formGroup]="crowdfundingForm" (ngSubmit)="onSubmit()">
				<div class="form-group">
					<label for="fundingCID">Funding CID:</label>
					<input type="text" id="fundingCID" formControlName="fundingCID" />
					<div *ngIf="crowdfundingForm.get('fundingCID').hasError('required')">Funding CID is required.</div>
				</div>

				<div class="form-group">
					<label for="amountToRaise">Amount To Raise:</label>
					<input type="text" id="amountToRaise" formControlName="amountToRaise" />
					<div *ngIf="crowdfundingForm.get('amountToRaise').hasError('required')">Amount to Raise is required.</div>
				</div>
				
				<div class="form-group">
					<label for="value">Value:</label>
					<input type="text" id="value" formControlName="value" />
					<div *ngIf="crowdfundingForm.get('value').hasError('min')">Value must be at least 0.001.</div>
				</div>

				<div class="form-group">
					<label for="duration">Duration:</label>
					<input type="text" id="duration" formControlName="duration" />
					<div *ngIf="crowdfundingForm.get('duration').hasError('min')">Duration must be at least 1.</div>
				</div>

				<button type="submit" [disabled]="!crowdfundingForm.valid && !isLoading">Submit</button>
			</form>
		</div>
	</div>
</div>
